# ETH Hypothesis Testing Parameter Optimization Tool

This tool analyzes ETH historical data and automatically recommends optimal parameter settings for hypothesis testing analysis in `main.py`.

## Features

- Automatically analyzes ETH price drop patterns
- Identifies effective drop thresholds, consecutive drop candles, and volume factors
- Analyzes rebound patterns and speeds
- Recommends optimal rebound thresholds, take profit and stop loss levels
- Generates ready-to-run command line parameters
- Provides visualization of analysis results

## Usage

### Method 1: Using the Easy Startup Tool

```bash
cd parameter_optimizer
python run_param_analysis.py
```

Follow the prompts to input analysis days, timeframe and other parameters. The tool will automatically complete the analysis and generate parameter recommendations.

### Method 2: Directly Running the Analysis Script

```bash
cd parameter_optimizer
python param_analyzer.py --days 60 --timeframe 5m
```

Parameter description:
- `--days`: Analysis period in days, default is 60
- `--timeframe`: Time frame, options are 1m, 5m, 15m, 1h, 4h; default is 5m
- `--end_date`: End date, format YYYY-MM-DD, default is current date
- `--no_cache`: Disable data cache

## Output Results

After analysis completion, the following files will be generated in the `parameter_suggestions` directory:

- Parameter recommendation JSON file (`param_recommendations_*.json`)
- Ready-to-run command line instructions (`run_command_*.txt`)
- Various analysis charts:
  - ETH drop distribution chart
  - Consecutive drop candles distribution chart
  - Volume ratio distribution chart
  - Rebound time analysis chart for various drop thresholds

## Recommended Parameter Explanation

- `drop_threshold`: Threshold for identifying significant ETH drops (negative value)
- `consecutive_drops`: Required number of consecutive drop candles
- `volume_factor`: Volume multiplier threshold
- `rebound_threshold`: Threshold defining a rebound
- `take_profit_pct`: Take profit percentage
- `stop_loss_pct`: Stop loss percentage
- `pre_event_window`: Pre-event window (minutes)
- `post_event_window`: Post-event window (minutes)

## Running the Main Program with Recommended Parameters

After completing the analysis, you can run the main program with the generated parameters:

```bash
cd ..  # Return to parent directory
python main.py --days 30 --timeframe 5m --drop_threshold -0.015 --consecutive_drops 2 --volume_factor 1.8 --rebound_threshold 0.008 --take_profit_pct 0.04 --stop_loss_pct 0.02 --pre_event_window 15 --post_event_window 45
```

The specific parameter values should be replaced with those generated by the analysis tool. You can also directly use the command from the generated `run_command_*.txt` file. 